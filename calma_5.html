<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calma</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        body.calma {
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #A8E6CF, #C8F0D7, #E0F7E9, #98D8C8);
            background-size: 400% 400%;
            animation: calmWaves 15s ease infinite;
        }

        @keyframes calmWaves {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Hojas */
        #leaves-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .leaf {
            position: absolute;
            width: 15px;
            height: 15px;
            background: linear-gradient(135deg, #7CB342 0%, #9CCC65 50%, #AED581 100%);
            clip-path: ellipse(40% 50% at 50% 50%);
            opacity: 0.7;
            pointer-events: none;
        }

        /* Ondas de viento */
        .wind-wave {
            position: fixed;
            width: 100%;
            height: 80px;
            background: radial-gradient(ellipse at center, rgba(255,255,255,0.15) 0%, transparent 70%);
            opacity: 0;
            animation: windFlow 3s ease-in-out infinite;
            pointer-events: none;
            z-index: 2;
        }

        @keyframes windFlow {
            0%   { opacity: 0; transform: translateX(-100%) scale(0.8); }
            50%  { opacity: 1; transform: translateX(50%) scale(1); }
            100% { opacity: 0; transform: translateX(200%) scale(0.8); }
        }

        .wind-wave:nth-child(1) { top: 20%; animation-delay: 0s; }
        .wind-wave:nth-child(2) { top: 45%; animation-delay: 1s; }
        .wind-wave:nth-child(3) { top: 70%; animation-delay: 2s; }

        /* Contenido */
        .contenido {
            position: relative;
            z-index: 10;
            background: rgba(255, 255, 255, 0.55);
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }
    </style>
</head>

<body class="calma">

<!-- Ondas suaves -->
<div class="wind-wave"></div>
<div class="wind-wave"></div>
<div class="wind-wave"></div>

<!-- Hojas -->
<div id="leaves-canvas"></div>

<!-- Contenido principal -->
<div class="container">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="contenido">
                <h1>Calma</h1>
                <p>
                    La calma es como un océano sereno, donde las olas de la ansiedad se disipan suavemente.
                    Respira profundamente y siente cómo la paz fluye a través de ti, transformando la inquietud
                    en serenidad. En este momento, todo está bien, y tienes el poder de mantener tu equilibrio interior.
                </p>

                <div class="row">
                    <div class="col-12">
                        <button class="boton-volver" onclick="window.location.href='ira_4.html'">Página anterior</button>
                        <button class="boton-siguiente" onclick="window.location.href='index.html'">Siguiente página →</button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<!-- Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- SoundJS (compatible con calma.js) -->
<script src="https://code.createjs.com/1.0.0/soundjs.min.js"></script>

<!-- Tu archivo de sonido -->
<script src="js/calma.js"></script>

<!-- Animación de hojas -->
<script>
    const canvas = document.getElementById('leaves-canvas');
    const leaves = [];
    const numLeaves = 25;
    let mouseX = -1000;
    let mouseY = -1000;

    class Leaf {
        constructor() {
            this.element = document.createElement('div');
            this.element.className = 'leaf';
            this.reset();
            canvas.appendChild(this.element);
        }

        reset() {
            this.x = Math.random() * window.innerWidth;
            this.y = -20;
            this.rotation = Math.random() * 360;
            this.rotationSpeed = (Math.random() - 0.5) * 3;
            this.speedY = Math.random() * 0.5 + 0.3;
            this.speedX = (Math.random() - 0.5) * 0.5;
            this.swayAmount = Math.random() * 30 + 20;
            this.swaySpeed = Math.random() * 0.02 + 0.01;
            this.swayOffset = Math.random() * Math.PI * 2;
            this.size = Math.random() * 8 + 12;
            this.time = 0;

            this.element.style.width = this.size + 'px';
            this.element.style.height = this.size + 'px';
            this.element.style.opacity = Math.random() * 0.3 + 0.4;
        }

        update() {
            this.time++;

            const dx = mouseX - this.x;
            const dy = mouseY - this.y;
            const distance = Math.sqrt(dx*dx + dy*dy);
            const pushRadius = 80;

            if (distance < pushRadius) {
                const force = (pushRadius - distance) / pushRadius;
                this.x -= (dx / distance) * force * 3;
                this.y -= (dy / distance) * force * 3;
                this.rotationSpeed = force * 10;
            }

            this.y += this.speedY;
            this.rotation += this.rotationSpeed;
            this.rotationSpeed *= 0.95;

            const sway = Math.sin(this.time * this.swaySpeed + this.swayOffset) * this.swayAmount;
            this.x += this.speedX + sway * 0.02;

            if (this.y > window.innerHeight + 20) this.reset();
            if (this.x < -20) this.x = window.innerWidth + 20;
            if (this.x > window.innerWidth + 20) this.x = -20;

            this.element.style.left = (this.x + sway) + 'px';
            this.element.style.top = this.y + 'px';
            this.element.style.transform = `rotate(${this.rotation}deg)`;
        }
    }

    for (let i = 0; i < numLeaves; i++) {
        setTimeout(() => leaves.push(new Leaf()), i * 200);
    }

    function animate() {
        leaves.forEach(leaf => leaf.update());
        requestAnimationFrame(animate);
    }

    animate();

    document.addEventListener('mousemove', e => {
        mouseX = e.clientX;
        mouseY = e.clientY;
    });
</script>

</body>
</html>
